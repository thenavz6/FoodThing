{% extends "base.html" %}

{% block title %}View Recipe{% endblock %}

{% block head %}
  <link rel="stylesheet" type="text/css" href="/static/css/index.css">
  <link rel="stylesheet" type="text/css" href="/static/css/header.css">
  <link rel="stylesheet" type="text/css" href="/static/css/recipe.css">
  <link rel="stylesheet" type="text/css" href="/static/css/recipeDesc.css">
  <link rel="stylesheet" type="text/css" href="/static/css/swapIngredient.css">
{% endblock %}

{% block body %}
  <div class="index">


      {% include "includeMainHeader.html" %}


    <div class="main_container">

      {% with recipe = recipeDict %}
      	{% include "includeViewRecipeDesc.html" %}
      {% endwith %}
  
      <!--- TODO below here -->
      <div class="recipe_heading">
        INGREDIENTS
      </div>
      <div class="list">
        <table class="ingredient_list">

          <tbody>
            {% for ingredient in recipeDict["ingredients"] %}
            <tr>          
              <td class="ingredient_list_element">
                {{ ingredient["ingredientDesc"] }}
              </td>
              <td class="ingredient_list_element">
                   <!--- Replace one of the 0's with the selected index --->
                <b>{{ recipeDict["ingredientProducts"][loop.index-1][selectedProducts[loop.index-1]]["label"] }}</b>
              </td>
              <td class="ingredient_list_element">
                <input type="image" src={{recipeDict["ingredientProducts"][loop.index-1][selectedProducts[loop.index-1]]["image"]}} width="100" height="100"><br>
              </td>
              <td class="ingredient_list_element">
                ${{ '%0.2f' % recipeDict["ingredientProducts"][loop.index-1][selectedProducts[loop.index-1]]["effectiveCost"] }}
              </td>
              <td class="ingredient_list_element">
                {{ recipeDict["ingredientProducts"][loop.index-1][selectedProducts[loop.index-1]]["store"] }}
              </td>
              <td class="ingredient_list_element">

              {% with buttonnumber = loop.index - 1 %}
                {% include "includeSwapIngredient.html" %}
              {% endwith %}

              </td>
            </tr>
            {% endfor %}
          </tbody>

        </table>
      </div>
      <div class="recipe_heading">
        INSTRUCTIONS
      </div>
      <div class="list">
        <ol>
          <li>Make the milkshake.</li>
          <li>Shove a cheesecake on it.</li>
          <li>Stir.</li>
        </ol>
      </div>
      <div class="recipe_heading">
        COMMENTS
      </div>


      {% include "includeRecipeComment.html" %}
      {% include "includeRecipeComment.html" %}
      {% include "includeRecipeCommentReply.html" %}


    </div>
  </div>
{% endblock %}
